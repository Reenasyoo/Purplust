<!DOCTYPE html>

<html>
	<head>
		 <meta charset="UTF-8"> 
		<title>Title</title>
	</head>
	<body>

		<!-- Debugger 
		<div id="output">Coordinates:</div>
		<div id = "debug">debug mode : </div>
		-->

		<!-- Game file -->
		<script type="text/javascript" src="src/utilities/math.js"></script>
		<script type="text/javascript" src="src/utilities/utilities.js"></script>
		<script type="text/javascript" src="src/Resource_Manager.js"></script>
		<script type="text/javascript" src="src/sprite.js"></script>
		<script type="text/javascript" src="src/items.js"></script> 
		<script type="text/javascript" src="src/world.js"></script>
		<script type="text/javascript" src="src/entity.js"></script>
		<script type="text/javascript" src="src/gui.js"></script>
		<script type="text/javascript" src="src/g.js"></script>
		<script type="text/javascript" src="game.js"></script>


		<div id = "beforeGame">
			
			<div id = "playerSetup">

				<p>Ievadiet spēlētāja vārdu</p>
				<input type="nameInput" id="nameInput"></input>

				<p for="gender">Izvēlaties klasi! </p>
				<input type="radio" name="classSelect" value="1" >Burvis</input>
				<input type="radio" name="classSelect" value="0" >Cinitajs</input>

				<p for="gender">Izvēlaties Rasi! </p>
				<input type="radio" name="raseSelect" value="1" >Cilveks</input>
				<input type="radio" name="raseSelect" value="0" >Reptilis</input>


				<p>Saglabāt spēlētāja iestatijumus</p>
				<button id = "submit" onclick="setupPlayer()"> Submit Player settings</button>

			</div>

			<button id = "start" onclick="startGame()"> Start Game</button>
		</div>
			
			<script type="text/javascript">
				var bg = document.getElementById('beforeGame');
				var plSetup = document.getElementById('playerSetup');
				var starB = document.getElementById('start');
			
				var setupPlayer = function() {
					var playerName = document.getElementById("nameInput").value;
					
					var p = new Actor({
					    race : "huuman",
					});
					p.entity = new Entity({
					    x : 33,
					    y : 33,
					    width : 32,
					    height : 32,
					    map : m,
					});
					p.healthBar = new gui.Bar({
					    label : "Health",
					    x : 20,
					    y : game.height - 32,
					    width : 200,
					    height : 30,
					    fullLenght : 10,
					    currentLenght : 5,
					});
					p.entity.sprite = new Sprite({
					            image : game.resources['player'].image,
					            width: 32,
					            height: 32,
					            numberOfFrames : 3,
					            ticksPerFrame : 3,
					});

					p.Name = new gui.Text({
					                    x : p.entity.x,
					                    y : p.entity.y - 3,
					                    textSize : 20,
					                    fillableText : playerName,
					                });
					game.actor = p;

					plSetup.style.display = "none";
					starB.style.display = "table";

    				
				}

				

				var startGame = function() {
					console.log("presed");
					bg.style.display = "none";

					//setupPlayer();

					game.Run();

				}


			</script>

		</div>
	  <!--
		#if we want to set specific canvas
	  	<canvas id="canvas" width="800" height="600"></canvas> 

	  -->



	  <!-- Css -->
	   <style type="text/css">
	   	#html, body{

			margin: 0px;
			overflow: hidden; /*  Disable scrollbars */
			display: block;
			border: 1px solid red;
			background-color: gray;
			
	   	}
	   	#beforeGame {
	   		position: absolute;
	   		top: 100px;
	   		left:  100px;
	   	}

		#button {
			display: none;
		}
		#start {
			display: none;
		}
		#playerSetup {
			display: table;
		} 
	   </style>
	</body>
</html>